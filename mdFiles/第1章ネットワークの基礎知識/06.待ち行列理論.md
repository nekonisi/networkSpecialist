06.待ち行列理論
===

## M/M/1モデル

- [呼量][1]の計算では，着呼か損失呼のどちらしかない。
- *M/M/1*モデルでは，「待たされる」という第三の状態がある。

[1]: 05.トラフィック理論.html

### M/M/sモデル

- s個の窓口がある場合，*M/M/s*モデルとなる。
  - 近年出ることはない。出ても公式が明示されている。

### 待ち行列

- 通信時間や計算時間だけでなく，待ち時間も指標とした考え方。
- データを簡略化して表示するために*ケンドール記号*を使用する。

### ケンドール記号

- トランザクションが到着する時間間隔の分布や，サービス時間の分布，サービス窓口の数を簡単に示す記法。

#### 記法

- `X/Y/S`

|記号|意味        |
|:--:|:----------:|
|`X` |到着分布    |
|`Y` |サービス分布|
|`S` |窓口数      |

- `X`,`Y`には以下のような分布が入る。

|記号|意味                      |
|:--:|:------------------------:|
|`M` |ポアソン分布または指数分布|
|`G` |一般分布                  |
|`D` |一定分布                  |

- 待ち行列理論の基本になるのが`M/M/1`モデルである。
  - 「到着傾向がポアソン分布，サービス時間が指数分布の窓口が一つある。」と考える。

## 待ち行列の計算に必要な要素

### M/M/1モデルの公式

#### 平均応答時間の公式

`平均応答時間=平均待ち時間+平均サービス時間`

#### 平均待ち時間の公式

- 平均待ち時間=<img src="https://latex.codecogs.com/gif.latex?\frac{\rho}{1-\rho}\times{Ts}">
  - `ρ`: 窓口利用率
  - `Ts`: 平均サービス時間

- 窓口利用率(ρ)=<img src="https://latex.codecogs.com/gif.latex?\frac{\lamda}{\mu}">
  - `λ`: 平均到着率
  - `μ`: 平均サービス量

- 平均応答時間=<img src="https://latex.codecogs.com/gif.latex?\frac{\rho}{1-\rho}\times{Ts}+Ts">
  - `ρ`: 窓口利用率
  - `Ts`: 平均サービス時間
  - 平均応答時間を求める場合，平均サービス時間が二回出てくるので注意！

##### 補足

- 平均到着率(λ)=<img src="https://latex.codecogs.com/gif.latex?\frac{1}{Ta}">
  - `Ta`: 平均到着時間間隔

- 平均到着時間間隔(Ta)=<img src="https://latex.codecogs.com/gif.latex?\frac{1}{\lamda}">
  - `λ`: 平均到着率

- 平均サービス量(μ)=<img src="https://latex.codecogs.com/gif.latex?\frac{1}{Ts}">
  - `Ts`: 平均サービス時間

- 平均サービス時間(Ts)=<img src="https://latex.codecogs.com/gif.latex?\frac{1}{\mu}">
  - `μ`: 平均サービス量
