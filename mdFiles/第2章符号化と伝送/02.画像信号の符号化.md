02.画像信号の符号化
===

## 画像符号化の基礎知識

- 画像データの符号化は，基本的に音声の場合と同じ処理を行う。
- 画像で重要になるのは，データ量の大きさである。
- 標準的な画像サイズである*フルHD*では，白黒の二値画像であっても2,073,600ビットの容量が必要である。
- これにRGBの色を付け，それぞれの輝度を256段階で表したとすれば6MG以上のデータとなる。
  - 動画では，こうした画像が1数十枚必要になる。

---

## 画像データの圧縮の手法

### 予測符号化

- 静止画のある点を観測すると、隣接したテント色相や輝度が類似していることが多いことがわかっている。
- 動画でもある一瞬と次の一瞬にはほとんど違いが見られない。
- 隣接した点と次の一瞬は現在の点と同じであるという予測のもとに、生じる変化を予測誤差として表す。
  - 予測誤差は現在のデータに対する差分として表せるため、必要なデータ量を抑制できる。

### 変換符号化(直交交換)

- 変換符号化では、隣接する画像をペアにして直交座標上にプロットする。
  - その後、座標軸を回転させて*エントロピ*が小さい値に変換する。

#### エントロピ

- 平均情報量のこと、情報量はその事象が起こりにくい場合に増加し、起こりやすい場合に減少する。
  - 画像データは隣接画素同士が同じようなデータになりやすいためエントロピは減少する。

### 不可逆符号化

- データ量を削減するため、データを間引く手法。
- 不可逆符号化を行うと、一般的にデータの精度は落ちる。
  - 人間工学的に違和感なく精度を落とすための工夫がされている。

### 動き補償予測

- 動画で行われる予測手法。
- 予測符号化を行っても動きの早い被写体が写っている場合は、予測誤差が大きくなってデータの精度は落ちる。
  - 動く物体が写っている画素をグループとして登録し、次の画像でその画素群がどこに移動しているかによって符号化を行う。

### エントロピ符号化

- 出現頻度の高いデータに短い符号を与えることでデータ量を削減する手法。
- どのような符号を付与すればデータ量を最小(*コンパクト符号*)にできるかは、ハフマン理論によって得ることができる。

---

## 画像データ規格

### JPEG

- DCTとハフマン符号を用いて画像を圧縮する。
- 高い圧縮率で写真を自然に復元できるという長所を持つ。
- 不可逆変換のため、写真のようなデータには適しているが画像に文字が含まれるデータにはにじみが生じる。

### GIF

- 可逆圧縮で文字やCGをきれいに再現できるのが特徴
- 色数は256色までしか扱えない。
  - アルゴリズムが特許権の問題に巻き込まれたため、PNGへの移行が進んだ。
- インターレースGIF(最初は荒い画像が表示され、データ転送が進むにれて高精度になる方)やアニメーションGIFがある。

### PNG

- GIFやJPEGよりも新しい静止画の規格。
- 後規格であるため、前世代の規格で扱いにくかった点が改良されている。
  - フルカラーが使える。
	- 可逆圧縮が可能
- ただし、アニメーションで扱うことができない。
- アニメーションを使用する場合は、APNGなどの拡張規格が必要になる。

